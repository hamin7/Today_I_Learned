# SNI 차단 우회 방법
https 차단 실행 이후 각 커뮤니티에서는 우회방법이 공유되며 지지를 받고 있다. 무차별적인 검열에 반발하는 한편, 정부의 검열방식이 개인정보 사찰로 이어진다는 우려가 있기 때문. 때문에 카카오톡 사찰 논란처럼 보안 강화를 위해 우회방법이 공유되기도 하고 있다. 어차피 중국때문에라도 같이 검열이 쓸려나간다. 미국이 중국공산당이 헛소리 못하도록 진실을 알리기위해서 우회프로그램들을 암암리에 지원하기 때문. 이 글을 읽고있는 한국인들은 거기 편승하면 된다.

어째서인지 ios용 사파리에서는 xHamster 이나 Pornhub, 기타 불법 만화사이트들이 처음 접속하면 접속이 안되지만 새로고침을 여러번 누르면 들어가진다. 윈도우용 크롬에서도 일부 유효하다. 안드로이드용 크롬은 확인바람. 현재 막혔는지 잘 안된다.

여기 설명에 모바일이나 pc 전용이라 되있는것들도 다른플랫폼에 적용되도록 변형되는경우들도 많으므로 에지간하면 pc모바일 공용으로 사용 가능한 경우가 대다수이다.

## PC, 모바일 공용
- SNI 암호화 - 해당 검열 사태가 발생할수 있었던 취약점인 평문 SNI를 암호화 시켜준다. 아직 표준이 아니여서 지원하는 브라우저는 파이어폭스 뿐이다. 파이어폭스 윈도우, 안드로이드용를 통해 DNS를 1.1.1.1로 설정하고 TLS 1.3, 암호화된 SNI (eSNI), DNS Over HTTPS를 활성화하여 정부의 해킹을 피해 https를 통해 접속할 수 있다. 검열 시도를 원천차단할수 있지만, 웹 서버 쪽에서 TLS 1.3 및 ESNI 연결을 지원하지 않을 경우 사용할 수 없다.
사용 방법에 대해서는 이 문서를 참조.

- VPN - 느리지만 가장 확실한 방법은 VPN이다. VPN은 모든 통신과정을 암호화하므로 어디에 접속하는지를 알 수 없어 해킹을 통한 차단 또한 불가능하다. HTTPS 차단뿐만 아니라 기존 HTTP 차단도 회피할 수 있다. 실제로 황금방패로 유명한 중국에서도 VPN을 막으려고 기술적으로 제한하려고는 하나, 일부 무료 VPN만 일시적으로 막는데 그쳤다. 그래서 중국은 기술적으로는 막는 게 불가능하다고 여겼는지 공안이 직접 찾아가서 잡는 방식으로 택하는 중. 다만 VPN의 경우 VPN 서버를 신뢰할 수 없는 경우 보안 위험이 극심하고, 안전하고 속도 빠른 VPN은 특성상 유료 서비스일 수밖에 없는 한계가 있다. 사용자의 패킷 처리를 VPN서버가 대신해주는 구조기 때문. VPN 접속을 지원하지 않는 운영체제는 드물기 때문에 호환폭이 넓다. 자세한 것은 VPN 문서 참고.

- 프록시 - PC와 모바일 공용으로 프록시 사이트를 이용하는 방법이 존재하는데 직접 접속하거나 VPN을 이용하는 것보다는 로딩 시에 레이턴시가 제법 높은 편이다. 사용하려는 프록시 사이트의 도메인이 반드시 https이어야 한다. 프로그램 설치 또는 네트워크 구성 변경이 곤란한 공용 컴퓨터에서 잠깐 쓸 용도로 적합하다.

- 라이트 모드(구:데이터세이버) - 크롬, 파이어폭스 등의 브라우저에서 제공하는 데이터 세이버를 사용할 경우에도 차단을 우회할 수 있었다. 구글의 프록시 서버(서버를 경유지로 우회해서 접속). 프록시기능이지만 데이터 절약기능이 포함되어있다. 치명적인 단점은 GET 전송 전용이다. POST 경우에 일일이 캐싱 처리 할 수 없는 것이 그 원인 이다. 프록시 서버가 아니라 클라우드플레어 같은 CDN 방식이다.
퍼핀 브라우저 - 자체 VPN을 사용하기 때문에 별도의 절차 없이 모든 차단을 우회 가능하다.
동태망 - 사이트에서 QR코드 형식으로 모바일 버전도 제공한다.

- 케이블 인터넷 이용 - 인터넷 사이트의 차단 결정은 방송통신심의위원회가 하지만, 실제 차단작업은 차단 사이트 목록을 넘겨받은 ISP에서 한다. SKT, SKB, KT, LG U+는 SNI 필드를 이용한 https 차단을 시작했으나, 케이블 방송사들은 검열 반대나 기술 부족을 이유로 https 차단을 하지 않거나, 하더라도 대충대충 한다. 2020년 3월 현재 LG헬로비전과 티브로드, 딜라이브의 인터넷 회선에서는 https가 지원된다면 불법 사이트라도 대부분 정상적으로 접속된다.

## PC

- 세이프비지트 https - 원래는 제 3자가 내 네트웍을 볼 수 없게 패킷파편화 하는 프로그램이다. VPN 을 쓰지않고 패킷을 파편화 한 것에 불과하지만 어떤 프로그램보다 잘 작동한다. GUI 환경이며, 실행해서 Connect 버튼만 클릭하면 작동한다. GoodbyeDPI 가 종료시에도 네트웍이 불안정하게 되는 드라이버언로드 문제를 해결했다. 안드로이드 버전도 함께 제공된다.

- GoodbyeDPI http https - 검열에 자주 사용되는 패킷을 차단하거나 패킷을 분석하기 어렵게 변조하는 GoodbyeDPI라는 프로그램을 사용해도 우회 접속이 가능하다. 본래 러시아 정부의 웹사이트 차단을 무력화하고자 만들어진 것으로, 프로그램 실행 외의 추가적인 조치가 필요하지 않고 VPN을 통하지 않아 핑과 속도 문제에서도 자유로우며 무엇보다 특정 브라우저나 특정 사이트에 의존하지 않기 때문에 SNI 감청을 파훼할 수 있는 가장 강력한 수단으로 평가되고 있다. 그러나 프로그램이 정상적인 이유로 발생된 리다이렉트, 연결 리셋 패킷을 차단해버리거나 사이트가 패킷 변조 결과를 이해하지 못할 경우 호환성 문제가 발생할 수 있으므로 주의할 것. 그래도 완전히 새로운 기술인 ESNI보다는 당장의 우회접속에 있어서는 훨씬 낫다. 다만 ESNI가 근본적으로 막는 것이라면 이 프로그램은 실시간 처리만 안 되게 하는 것이므로 보안 면에서는 ESNI가 낫다.

- GreenTunnel - GoodbyeDPI가 윈도우에서만 작동하는 반면 이 프로그램은 윈도우, macOS, 리눅스에서 모두 사용할 수 있다. 리눅스의 경우 데비안 계열에서만 바이너리 릴리스를 제공하지만, 순수 Node.js 애플리케이션이기 때문에 리눅스와 CLI에 익숙한 파워유저라면 간단하게 사용할 수 있다.

- SoftEther VPN Client + VPN Gate - 비영리 VPN 클라이언트인 SoftEther VPN에 VPN Gate 모듈이 통합되어있다. VPN 접속을 위해 프로그램이 켜져있을때, 사용자의 컴퓨터도 VPN 서버가 되어 다른 사용자가 접속할 수 있게 된다. 일종의 지원봉사자인 셈. 그래서 한국은 물론이고 기가인터넷 속도와 낮은 레이턴시를 자랑하는 각국의 VPN 서버들이 차고 넘친다. 그러나 특성상 서버의 절대 다수가 해당 지역 가정용 ISP를 이용하고 있으므로 서버 잘못 선택하면 한국에서 접속하는것만 못한 결과가 나오기도 한다. 인터넷 검열 제도가 없는 국가의 VPN 서버를 선택해야 검열에서 벗어날 수 있다. 한국 거주자라면 가까운 일본 VPN 서버를 이용하는 것이 추천된다.

- Tor 브라우저 - 차단 우회용으로 사용할 수는 있으나 그 속도가 매우 느리다. 또한 대역폭이 작아서 동영상 시청용으로는 부적합하다. 익명성이 매우 강하지만 이때문에 많은 사이트들이 Tor를 통한 접속한 이용자를 의심하거나, 아예 차단해버리는 경우가 잦아서 실사용이 어렵다. 다른 우회수단을 사용하자.

- MTU 값 조정 - 또 다른 방법으로는 네트워크에 사용되는 MTU 값을 낮춰 쿼리를 분할시켜 보내는 방법도 있다. 이 방법으로는 주소 쿼리를 둘 이상으로 분할되게 값이 설정되어 분석 시에 제대로된 주소가 아니게 되어 회피하는 방법이지만, 송수신 횟수가 늘어나는 방법이므로 PC 속도가 저하되고 네트워크 반응 속도 등에 손해를 볼 수 있으며, 특정 사이트에는 접속이 되지 않을 수도 있다. 상기한 프로그램이 정 못 미덥다면 사용해볼 만한 방법.
구글 번역기 - 또는 구글 번역기에 주소를 치면 나오는 링크로 접속하는 방법도 있다. 모든 쿼리가 구글 측에서 이루어지기 때문에 구글 번역 서비스 자체를 차단하거나 구글 측에서 협조하지 않는 이상 차단도 감청도 불가능한 획기적인 방법. 단, 방식 특징 상 로그인이 안된다는 단점이 존재한다.

- 미어캣 브라우저 - 국내 개발자가 개발한 크로미움에 우회기능이 탑재된 브라우저. 과거 닷지크롬과 유사하다. 속도가 빠르고 추가적인 조치를 취할 필요가 없이 해당 브라우저를 사용하면 자동으로 우회가 된다. 안드로이드 버전도 함께 제공하며, 플레이스토어에서 다운받을수있다.

- 유니콘 HTTPS http https - 광고차단 어플로 유명한 유니콘 개발사가 만든 PC용 HTTPS 우회 프로그램. 19년 8월 31일 macOS용도 출시. ##
크롬 확장 프로그램 - 크롬 확장 프로그램에 들어간다면 크롬 웹 스토어가 있다. 그곳에는 VPN,프록시 등이 있다.
오페라 브라우저 - 브라우저에 VPN 이 탑재되어 있다. 영리단체에서 운영하는 무료 VPN이므로 보안은 크게 기대하지 않는 것이 좋다.

## 모바일
### 안드로이드
- 구글 Intra, 클라우드플레어 1.1.1.1 앱 - 이 앱들은 단말기에서 설정된 DNS 주소를 자사의 DNS 주소로 변경하고 TLS over DNS 기법을 통해 TLS 패킷에 대한 감청을 회피하는 역할을 한다. 설치 및 사용방법 클라이언트 쪽에 로컬 SOCKS 프록시를 구성하여 TLS 관련 패킷에 한정하여 VPN을 통해 자사의 DNS 서버로 연결시킨다. 1.1.1.1 앱 기준으로 TLS over DNS 옵션은,
<ul>
    <li> Split Tunnel - DNS over TLS 및 DNS over HTTPS만 TLS over DNS 방식을 통해 통신한다.
    <li> Full Tunnel - TLS로 전송되는 모든 통신 (HTTPS, 보안 DNS 등)에 대하여 TLS over DNS 방식을 이용한다.
</ul>
이 방법은 HTTPS 차단이 DNS 서버 뿐만 아니라 통신사 회선의 라우팅 서버에서도 이루어지므로 정상적인 상황이라면 먹히지 않아야 되는게 맞지만 해당 어플들은 TLS로 전송되는 모든 패킷을 VPN으로 우회하는 추가 기능이 포함되어 있기 때문에 이동통신사의 감청망을 우회할 수 있다. KT 회선에서는 1.1.1.1이 먹히지 않는 사례가 많이 보고되고 있으며 안드로이드 6.0 미만은 먹통이라 한다.
참고로 TLS over DNS 기법으로는 HTTPS 차단을 우회할 수 있지만 기존의 HTTP 차단을 우회할 수 없다.

- 세이프비지트 - Intra 와 비슷하다. PC 버전의 SafeVisit 는 패킷을 파편화 시킨 반면 안드로이드 버전은 Intra 와 비슷하게 방식을 취한다. 속도가 빠르고 개인정보 노출의 위험이 없다.

- ASPEAR(구 Sniper) - 국내 개발자가 개발한 앱. MTU를 낮춰 우회하는 것이 아니라 SNI 필드가 담긴 Client Hello 패킷만 분할하여 전송하는 방식을 택했기 때문에 감청을 우회하면서도 속도 저하가 없다는 장점이 있다. 안드로이드 5.0 이상 버전에서 정상 동작한다. 2019년 2월 24일부터 전면 무료화를 선언하고 광고를 모두 제거했다. 6월 12일 iOS도 출시되었다.

- 새벽 - 마찬가지로 국내 개발자 개발. 속도가 빠르고 개인정보 노출의 위험이 없다.

- 유니콘 HTTPS 우회앱 - 앱스토어, 구글플레이 기준 HTTPS 우회앱 중에서 가장 순위가 높다. 유니콘 광고 차단앱을 만든 회사이며 국내에서는 인지도가 높은 편이다. 현재 Android, iOS, 윈도우 버전까지 출시가 되어 있고, 기존의 HTTP 차단까지 모두 우회한다.

- 퍼핀 브라우저(puffin browser) - VPN이 자체 내장되어 있어서 미국 IP로 우회하는 브라우저다. 이를 통해 우회가 가능하다.

- 오페라 미니

- VPN Gate Connector - VPN Gate 모듈을 이용한 VPN 앱이다. 무료 버전은 앱 내부에서 광고가 자주 뜨는 편이다.

### iOS
- 유니콘 HTTPS
- Sniper

### 클라우드 서버
- 구글 클라우드 컴퓨팅 엔진
- 아마존 웹 서비스 EC2
- 마이크로소프트 애저

자금이 널널하다면 클라우드 서버를 렌탈하는 것도 좋은 방법이다. 서버를 렌탈하게 되면 가상 머신처럼 서버 내부에 사용자를 위한 인스턴스가 생성되고 사용자가 해당 인스턴스에 원격으로 접속하여 이용할 수 있다. 서버 내부에 위치한 가상 컴퓨터를 대여하는 셈이다. 웹 사이트들도 이미 클라우드 서버 인스턴스에 http 서버 데몬을 설치하고 웹 사이트를 해당 데몬과 연동시켜서 운영 중이다.

서버 렌탈 시에 서버 소재지, OS, CPU 성능, RAM 용량, HDD 및 SSD 용량, GPU 사용 여부 등을 선택할 수 있다. OS는 우분투, Cent OS, Windows Server 2019 등을 선택할 수 있고 GUI 포함 여부까지 선택 가능하다.

서버 인스턴스에 접속하기 위해서는 해당 서버의 공인 IP (외부 IP) 주소, 계정 이름, 계정 비밀번호를 알고 있으면 되며, 원격 접속 이후에는 개인 PC처럼 똑같이 이용하면 된다.

다만, 서버 인스턴스가 활성화 상태일 때에는 무조건 과금된다. 서버 인스턴스를 사용하지 않을 때에는 가급적 인스턴스를 종료시키고 필요할 때만 활성화하여 쓰는 것이 좋다. 트래픽이 늘어날 수록 서버 렌탈비가 기하급수적으로 증가할수 있으니 유의. 방화벽 설정에서도 원격 접속이 차단되지 않도록 주의해야 한다. 방화벽 설정을 잘못하면 원격 접속 자체가 불가능할 수도 있으며 복구하기 어려울 수도 있다.

#### 서버 인스턴스에서 직접 접속
서버 인스턴스에 직접 크롬, 파이어폭스 등의 브라우저를 설치할 수 있다.

클라우드 서버의 경우에는 국내 통신사의 회선을 사용하지 않으므로 검열 문제에서 자유롭다. 이로 인해 국내에서 차단된 사이트들도 서버 인스턴스에서는 접속이 가능하다.
#### 서버 인스턴스에서 VPN 구축
트래픽에 대한 막대한 비용을 감당할 여유가 있는 경우에는 자신이 직접 서버에 VPN을 구축할 수도 있다.

클라우드 서비스에서 서버 인스턴스를 렌탈하여 VPN 서버 데몬을 설치하면 된다. VPN 접속자가 늘어날 수록 서버에서 더 높은 성능을 필요로 하다는 점은 감안해야 한다.

국내 데이터센터에 있는 서버를 임대하여 VPN을 구축하는 것은 국내 회선을 그대로 가져다 쓰는 것이므로 무의미하다.

Outline은 서버 내부의 인스턴스에 설치할 오픈소스 VPN 서버 데몬을 개발하는 비영리 프로젝트이다.

자세한 내용은 해당 문서를 참조할 것.

### 상용망(국내)
상업용 망은 계약망인데 검열을 한답시고 팻킷을 가로채면 응답성도 떨어지므로 퀄리티의 전반적인 하락이 될 뿐만 아니라 안 그래도 이용량이 몰리거니와 서버에서 인터넷 검색을 하는 일은 일반적으로 잘 없다. 그래서 이런 망에서 차단된 주소로 접근하면 잘된다! 여담으로 이 방법으로 시도 해보았으나 여전히 차단이 된다면 해당 서비스는 겉으로 영업만 상용망이라 주장하고 실제로는 IDC에 입주를 안 한거고 가정용망에서 서비스를 하였다고 보면 된다.