# 04. 배치 프로그램 구현

## 1. 사용자와 상호작용 없이 일련의 작업들을 작업 단위로 묶어 정기적으로 반복 수행하거나 정해진 규칙에 따라 일괄 처리하는 방법은 어떤 프로그램인가?

→ 배치프로그램

- 배치 프로그램은 개별적으로 어떤 요청이 있을 때마다 실시간으로 통신하는 것이 아닌 한꺼번에 일괄적으로 대량 건을 처리한다.
- 대량건의 데이터를 특정 시간에 일괄적으로 처리하는 것이 핵심이다.

## 2. 배치 스케줄러의 유형

유형|설명
-|-
스프링 배치<br>(Spring Batch)|스프링 프레임워크의 DI, AOP, 서비스 추상화 등 스프링 프레임워크의 3대 요소를 모두 사용할 수 있는 대용량 처리를 제공하는 스케줄러
쿼츠 스케줄러<br>(Quartz Scheduler)|스프링 프레임워크에 플러그인 되어 수행하는 작업과 실행 스케줄을 정의하는 트리거를 분리하여 유연성을 제공하는 오픈 소스 기반 스케줄러.

- 스프링 배치는 백엔드의 배치처리 기능을 구현하는 데 사용하는 프레임워크이다. 쿼츠 스케쥴러는 Terracotta 라는 회사에 의해 개발된 Job Scheduling 라이브러리이다. 자바기반 프로그램에서도 쉽게 통합해서 개발 가능하다.

## 3. 스케줄러

스케줄러를 실행시키기 위해 작업이 실행되는 시간 및 주기 등을 선정하게 되는데 **크론(CRON)** 표현식을 통해 배치 수행시간을 설정한다.

- 크론 표현식은 크론 스케줄러의 정규 표현식이다.
- 7개의 각 필드로 구성되어 있다.

순서|필드 이름|허용 값
-|-|-
1|초|0 ~ 59, 특수문자
2|분|0 ~ 59, 특수문자
3|시간|0 ~ 23, 특수문자
4|일|1 ~ 31, 특수문자
5|월|1 ~ 12, JAN ~ DEC, 특수문자
6|요일|1 ~ 7, SUN-SAT, 특수문자
7|연도(생략가능)|1970 ~ 2099, 특수문자

## 4. 크론 표현식

순서|필드 이름|허용 값
-|-|-
1|초|0 ~ 59, 특수문자
2|분|0 ~ 59, 특수문자
3|시간|0 ~ 23, 특수문자
4|일|1 ~ 31, 특수문자
5|월|1 ~ 12, JAN ~ DEC, 특수문자
6|요일|1 ~ 7, SUN-SAT, 특수문자
7|연도(생략가능)|1970 ~ 2099, 특수문자

## 5. 크론 표현식의 특수문자

기호|의미
-|-
*|모든 수
?|해당 항목을 미사용
-|기간 설정
,|특정 기간 설정
/|시작시간과 반복간격 설정
L|마지막 기간에 동작
W|가장 가까운 평일에 동작
#|몇 번째 주, 요일 설정

## 6. 다음 크론 표현식이 가리키는 의미는?

0 0 12 * * *

- 스케쥴러를 매일 12시에 실행

## 7. 다음 크론 표현식이 가리키는 의미는?

0 0 7 ? * MON-SAT

- 스케쥴러를 월~토 7시 0분 0초에 실행