# 02 응용 SQL 작성하기

## 1. 집계 함수 명
집계 함수|내용
-|-
( 1 )|복수 행의 줄 수
( 2 )|복수 행의 해당 컬럼 간의 합계
( 3 )|복수 행의 해당 컬럼 간의 평균

→<br>
(1) COUNT
(2) SUM
(3) AVG

## 2. 데이터 분석 함수 종류
함수|설명
-|-
( 1 )|여러 행 또는 테이블 전체 행으로부터 하나의 결괏값을 반환하는 함수
( 2 )|소그룹 간의 소계 및 중계 등의 중간 합께 분석 데이터를 산출하는 함수
( 3 )|데이터베이스를 사용한 온라인 분석 처리 용도로 사용하기 위해서 표준 SQL에 추가된 기능

→<br>
(1) 집계 함수
(2) 그룹 함수
(3) 윈도 함수

## 3. 그룹 함수 유형
함수|설명
-|-
( 1 )|지정된 컬럼은 소계 등 중간 집계값을 산출하기 위한 그룹 함수
( 2 )|결합 가능한 모든 값에 대해 다차원 집계를 생성하는 그룹 함수
( 3 )|집계 대상 컬럼들에 대한 개별 집계를 구할 수 있는 그룹 함수

→<br>

(1) ROLLUP
(2) CUBE
(3) GROUPING SETS

- ROLLUP에 의해 지정된 컬럼은 소계(소그룹의 합계) 등 중간 집계 값을 산출하기 위한 함수이다
- CUBE는 결합 가능한 모든 값에 대해 다차원 집계를 생성하는 그룹 함수이다.
- 집계 대상 컬럼들에 대한 개별 집계를 구할 수 있으며, ROLLUP이나 CUBE와는 달리 컬럼 간 순서와 무관한 결과를 얻을 수 있는 그룹 함수이다.

## 4. 윈도 함수 중 순위 함수
순위 함수|설명
-|-
( 1 )|- 레코드의 순위를 계산<br>- 동일 순위의 레코드 존재 시 후순위는 넘어감(2위가 3개인 레코드의 경우: 2위, 2위, 2위, 5위, 6위, ...)
( 2 )|- 레코드의 순위를 계산<br>- 동일 순위의 레코드 존재 시에도 후순위를 넘어가지 않음(2위가 3개인 레코드인 경우:2위, 2위, 2위, 3위, 4위, 5위, 6위, ...)
( 3 )|- 레코드의 순위를 계산<br>- 동일 순위의 값이 존재해도 이와 무관하게 연속 번호를 부여(2위가 3개인 레코드인 경우:2위, 3위, 4위, 5위, 6위, ...)

→<br>
(1) RANK
(2) DENSE_RANK
(3) ROW_NUMBER

## 5. 윈도 함수 중 행순서 함수
행순서 함수|설명
-|-
( 1 )|- 파티션별 윈도에서 가장 먼저 나오는 값을 찾음<br>- 집계 함수의 MIN과 동일한 결과를 출력
( 2 )|- 파티션별 윈도에서 가장 먼저 나오는 값을 찾음<br>- 집계 함수의 MAX와 동일한 결과 출력
( 3 )|- 파티션별 윈도에서 1부터 이전 몇 번째 행의 값을 가져옴
( 4 )|- 파티션별 윈도에서 1부터 이후 몇 번째 행의 값을 가져옴

(1) FIRST_VALUE
(2) LAST_VALUE
(3) LAG
(4) LEAD

# 6. 윈도 함수 중 그룹 내 비율 함수
그룹 내 비율 함수|설명
-|-
( 1 )|- 주어진 그룹에 대해 합을 기준으로 각 로우의 상대적 비율을 반환하는 함수<br>- 결괏값은 0~1의 범위 값을 가짐
( 2 )|- 주어진 그룹에 대해 제일 먼저 나오는 것을 0으로, 제일 늦게 나오는 것을 1로 하여, 값이 아닌 행의 순서별 백분율을 구하는 함수<br>- 결괏값은 0~1의 범위 값을 가짐

→<br>
(1) RATIO_TO_REPORT
(2) PERCENT_RANK

## 7. 응용 시스템 DBMS 접속 기술인 JDBC란?
→ 자바 언어를 이용하여 개발하며, SQL을 사용하여 DBMS에 질의하고 데이터를 조작하는 API를 제공하는 기술이다.

## 8. MyBatis를 이용하여 DB 접근할 때의 장점은?
- 복잡한 JDBC 코드를 단순화할 수 있다
- SQL을 거의 그대로 사용 가능하다.
- Spring 기반 프레임워크와 통합 기능을 제공한다
- 우수한 성능을 보여준다

→ MyBatis는 사용이 간단함, SQL을 그대로 사용 가능함, 스프링 기반 프레임워크와 통합 기능을 제공함, 성능이 좋다는 점이 장점이다

## 9. 관리자가 'USER1'이라는 사용자에 대해 '학생'테이블인 STUDENT의 데이터를 수정할 수 있는 권한을 부여하고 그 권한을 필요시 다른 사용자에게 권한 부여하는 권한까지 추가하려고 한다. 다음 밑줄에 들어갈 가장 적합한 키워드는?
~~~sql
GRANT UPDATE (  1  ) STUDENT (  2  ) USER1 (  3  ) GRANT OPTION;
~~~

→<br>
(1) ON
(2) TO
(3) WITH

## GRANT 명령
- GRANT 권한 ON 테이블 TO 사용자 WITH 옵션;

## 10. 관리자가 'USER1'이라는 사용자에 대해 '학생' 테이블인 STUDENT의 데이터를 삭제할 수 있는 권한을 취소한다. 거기에 추가로 연쇄적인 권한을 해제 하려고 한다. 
~~~sql
(  1  ) DELETE (  2  ) STUDENT (  3  ) 사용자 CASCADE CONSTRAINTS;
~~~

→<br>
(1) REVOKE
(2) ON
(3) FROM

## REVOKE 명령
- REVOKE 권한 ON 테이블 FROM 사용자 CASCADE CONSTRAINTS;